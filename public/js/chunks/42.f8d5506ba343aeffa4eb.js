(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{tb6G:function(t,a,i){"use strict";i.r(a);var e={name:"categoria",data:function(){return{datos:[],categoria:{idCategoria:0,categoriaActividad:null},poputActivo:!1,idCategoria:null}},created:function(){this.consultarCategoria()},methods:{consultarCategoria:function(){var t=this;this.cargandoGeneral=!0,axios.post("/maestros/consultarCategoria").then((function(a){t.datos=a.data,t.cargandoGeneral=!1}))},agregarCategoria:function(){this.categoria={idCategoria:0,categoriaActividad:null},this.poputActivo=!0},guardarCategoria:function(){var t=this;this.activeLoading=!0,axios.post("/maestros/guardarCategoria",this.categoria).then((function(a){t.consultarCategoria(),t.mostrarNotificacion("Guardar categoria","Los datos se han guardado con exito!","success"),t.activeLoading=!1,t.poputActivo=!1}))},preguntarEliminarCategoria:function(t){this.idCategoria=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Eliminar categoria",text:"Desea eliminar la categoria seleccionada ?",accept:this.eliminarCategoria})},eliminarCategoria:function(){var t=this;axios.post("/maestros/eliminarCategoria",{id:this.idCategoria}).then((function(a){t.mostrarNotificacion("Eliminar categoria",a.data,"success"),t.datos.splice(t.datos.findIndex((function(a){return a.idCategoria===t.idCategoria})),1)}))},editarCategoria:function(t){this.categoria.idCategoria=t.idCategoria,this.categoria.categoriaActividad=t.categoriaActividad,this.poputActivo=!0}}},r=i("KHd+"),o=Object(r.a)(e,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("vx-card",{attrs:{title:"Maestro categoria"}},[i("vs-button",{attrs:{color:"success"},on:{click:t.agregarCategoria}},[t._v("Agregar categoria")]),t._v(" "),i("vs-table",{attrs:{data:t.datos,pagination:"","max-items":20,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a,r){return i("vs-tr",{key:r},[i("vs-td",{attrs:{data:e[r].idCategoria}},[t._v("\n                    "+t._s(e[r].idCategoria)+"\n                ")]),t._v(" "),i("vs-td",{attrs:{data:e[r].categoriaActividad}},[t._v("\n                    "+t._s(e[r].categoriaActividad)+"\n                ")]),t._v(" "),i("vs-td",[i("vs-row",{attrs:{"vs-type":"flex","vs-justify":"flex-end"}},[i("vs-col",{attrs:{"vs-sm":"6","vs-md":"6","vs-lg":"6","vs-type":"flex","vs-justify":"end","vs-align":"end","vs-w":"6"}},[i("vx-tooltip",{attrs:{text:"Editar"}},[i("span",{staticClass:"cursor-pointer",on:{click:function(a){return t.editarCategoria(e[r])}}},[i("i",{staticClass:"bx bx-edit-alt"})])])],1),t._v(" "),i("vs-col",{attrs:{"vs-sm":"6","vs-md":"6","vs-lg":"6","vs-type":"flex","vs-justify":"end","vs-align":"end","vs-w":"6"}},[i("vx-tooltip",{attrs:{text:"Eliminar tipo novedad"}},[i("span",{staticClass:"cursor-pointer",on:{click:function(a){return t.preguntarEliminarCategoria(e[r].idCategoria)}}},[i("i",{staticClass:"bx bxs-tag-x"})])])],1)],1)],1)],1)}))}}])},[i("template",{slot:"thead"},[i("vs-th",[t._v("ID")]),t._v(" "),i("vs-th",{attrs:{"sort-key":"categoriaActividad"}},[t._v("Categoria")]),t._v(" "),i("vs-th",{staticClass:"text-center center d-flex justify-center justify-end"},[t._v("Acciones")])],1)],2),t._v(" "),i("vs-popup",{staticClass:"holamundo",attrs:{active:t.poputActivo},on:{"update:active":function(a){t.poputActivo=a}}},[i("ValidationObserver",{ref:"form"},[i("form",{on:{submit:function(a){return a.preventDefault(),t.guardarCategoria(a)}}},[i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col sm:w-12/12 md:w-12/12 lg:w-12/12 w-full mb-2"},[i("validation-provider",{attrs:{name:"CATEGORIA",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[i("vs-input",{staticClass:"w-full",attrs:{label:"Categoria"},model:{value:t.categoria.categoriaActividad,callback:function(a){t.$set(t.categoria,"categoriaActividad",a)},expression:"categoria.categoriaActividad"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])]}}])})],1)]),t._v(" "),i("div",{staticClass:"vx-row"},[i("div",{staticClass:"vx-col w-full text-center"},[i("boton",{attrs:{texto_cargando:"Guardando datos...",type:"submit",texto:"Guardar",cargando:t.activeLoading}})],1)])])])],1)],1)}),[],!1,null,"0dcd1e68",null);a.default=o.exports}}]);