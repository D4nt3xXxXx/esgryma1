(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{HIEV:function(t,o,a){"use strict";a.r(o);var e;function i(t,o,a){return o in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t}var s={name:"tipo_novedad",data:function(){return{datos:[],colores:[],tipoNovedad:{idTipoNovedad:0,tipoNovedad:null,colorNovedad:null,validacbox:1},poputActivo:!1,idTipoNovedad:null}},created:function(){this.consultarTipoNovedad(),this.consultarColores()},methods:(e={consultarTipoNovedad:function(){var t=this;axios.post("/maestros/consultarTipoNovedad").then((function(o){t.datos=o.data}))},eliminarTipoNovedad:function(){},consultarColores:function(){var t=this;axios.post("/consultas/consultarColores").then((function(o){t.colores=o.data}))},agregarTipoNovedad:function(){this.tipoNovedad={idTipoNovedad:0,tipoNovedad:null,colorNovedad:null,validacbox:1},this.poputActivo=!0},validarColor:function(){var t=this;this.datos.findIndex((function(o){return o.color==t.tipoNovedad.colorNovedad}))>=0&&(this.tipoNovedad.colorNovedad=null,this.mostrarNotificacion("Color seleccionado","Lo sentimos este color ya esta asociado a un tipo de novedad","warning"))},guardarTipoNovedad:function(){var t=this;this.activeLoading=!0,axios.post("/maestros/guardarTipoNovedad",this.tipoNovedad).then((function(o){t.consultarTipoNovedad(),t.mostrarNotificacion("Guardar tipo novedad","Los datos se han guardado con exito!","success"),t.activeLoading=!1,t.poputActivo=!1}))},preguntarEliminarTipoNovedad:function(t){this.idTipoNovedad=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Eliminar tipo de novedad",text:"Desea eliminar el tipo de novedad seleccionado ?",accept:this.eliminarTipoNovedad})}},i(e,"eliminarTipoNovedad",(function(){var t=this;axios.post("/maestros/eliminarTipoNovedad",{id:this.idTipoNovedad}).then((function(o){t.mostrarNotificacion("Eliminar tipo novedad",o.data,"success"),t.datos.splice(t.datos.findIndex((function(o){return o.id===t.idTipoNovedad})),1)}))})),i(e,"editarTipoNovedad",(function(t){this.tipoNovedad.idTipoNovedad=t.id,this.tipoNovedad.colorNovedad=t.color,this.tipoNovedad.tipoNovedad=t.nombre,this.tipoNovedad.validacbox=1,this.poputActivo=!0})),e)},d=a("KHd+"),n=Object(d.a)(s,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("vx-card",{attrs:{title:"Maestro tipo de novedad"}},[a("vs-button",{attrs:{color:"success"},on:{click:t.agregarTipoNovedad}},[t._v("Agregar tipo novedad")]),t._v(" "),a("vs-table",{attrs:{data:t.datos,pagination:"","max-items":20,search:""},scopedSlots:t._u([{key:"default",fn:function(o){var e=o.data;return t._l(e,(function(o,i){return a("vs-tr",{key:i},[a("vs-td",{attrs:{data:e[i].id}},[t._v("\n                    "+t._s(e[i].id)+"\n                ")]),t._v(" "),a("vs-td",{attrs:{data:e[i].nombre}},[t._v("\n                    "+t._s(e[i].nombre)+"\n                ")]),t._v(" "),a("vs-td",{attrs:{data:e[i].color}},[a("vs-chip",{attrs:{color:e[i].color}},[t._v("\n                        "+t._s(e[i].color)+"\n                    ")])],1),t._v(" "),a("vs-td",[a("vs-row",{attrs:{"vs-type":"flex","vs-justify":"flex-end"}},[a("vs-col",{attrs:{"vs-sm":"6","vs-md":"6","vs-lg":"6","vs-type":"flex","vs-justify":"end","vs-align":"end","vs-w":"6"}},[a("vx-tooltip",{attrs:{text:"Editar"}},[a("span",{staticClass:"cursor-pointer",on:{click:function(o){return t.editarTipoNovedad(e[i])}}},[a("i",{staticClass:"bx bx-edit-alt"})])])],1),t._v(" "),a("vs-col",{attrs:{"vs-sm":"6","vs-md":"6","vs-lg":"6","vs-type":"flex","vs-justify":"end","vs-align":"end","vs-w":"6"}},[a("vx-tooltip",{attrs:{text:"Eliminar tipo novedad"}},[a("span",{staticClass:"cursor-pointer",on:{click:function(o){return t.preguntarEliminarTipoNovedad(e[i].id)}}},[a("i",{staticClass:"bx bxs-tag-x"})])])],1)],1)],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("ID")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"nombre"}},[t._v("Nombre")]),t._v(" "),a("vs-th",[t._v("Color")]),t._v(" "),a("vs-th",{staticClass:"text-center center d-flex justify-center justify-end"},[t._v("Acciones")])],1)],2),t._v(" "),a("vs-popup",{staticClass:"holamundo",attrs:{active:t.poputActivo},on:{"update:active":function(o){t.poputActivo=o}}},[a("ValidationObserver",{ref:"form"},[a("form",{on:{submit:function(o){return o.preventDefault(),t.guardarTipoNovedad(o)}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-12/12 md:w-6/12 lg:w-6/12 w-full mb-2"},[a("validation-provider",{attrs:{name:"NOMBRE",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var e=o.errors;return[a("vs-input",{staticClass:"w-full",attrs:{label:"Nombre"},model:{value:t.tipoNovedad.tipoNovedad,callback:function(o){t.$set(t.tipoNovedad,"tipoNovedad",o)},expression:"tipoNovedad.tipoNovedad"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])]}}])})],1),t._v(" "),a("div",{staticClass:"vx-col sm:w-12/12 md:w-6/12 lg:w-6/12 w-full mb-2"},[a("validation-provider",{attrs:{name:"COLOR",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var e=o.errors;return[a("vs-select",{staticClass:"w-full",staticStyle:{width:"100%"},attrs:{autocomplete:"",label:"Color"},on:{input:t.validarColor},model:{value:t.tipoNovedad.colorNovedad,callback:function(o){t.$set(t.tipoNovedad,"colorNovedad",o)},expression:"tipoNovedad.colorNovedad"}},[a("vs-select-item",{key:"",attrs:{value:"",text:"---seleccione---"}}),t._v(" "),t._l(t.colores,(function(t,o){return a("vs-select-item",{key:o,style:"background-color:"+t.text,attrs:{value:t.id,text:t.text}})}))],2),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])]}}])})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full text-center"},[a("boton",{attrs:{texto_cargando:"Guardando datos...",type:"submit",texto:"Guardar",cargando:t.activeLoading}})],1)])])])],1)],1)}),[],!1,null,"a95020da",null);o.default=n.exports}}]);